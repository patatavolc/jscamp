<!DOCTYPE html>
<html lang="es">
<head>
    <title>DevJobs - Empleos</title>
    <meta charset="UTF-8">
    <meta name="description" content="Listado con empleos y filtros
    para encontrar el trabajo de tus sueños.">
    <link rel="stylesheet" href="./styles.css">

    <script type="module">
        import React from "https://esm.sh/react?dev";
        import ReactDOM from "https://esm.sh/react-dom/client?dev";


        window.React = React;
        window.ReactDOM = ReactDOM;
    </script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
        function JobCard({data, titulo, empresa, ubicacion, descripcion}) {
            const [
                isApplied, 
                setIsApplied
            ] = React.useState(false) // Devuelve un array de 2 posiciones, 1 es el valor, 2 es la función para actualizar el valor

            function handleClick() {
                setIsApplied(!isApplied);
            }

            const text = isApplied ? "Aplicado" : "Aplicar";
            const buttonClass = isApplied ? "is-applied" : "";
            const isAppliedText = isApplied ? 'Si' : 'No';

            return(
                <article className="job-listing-card" 
                data-modalidad={data?.modalidad}
                data-nivel={data?.nivel}
                data-technology={data?.technology}>
                    <div>
                        <h3>{titulo}</h3>
                        <small>{empresa} - {ubicacion} - He aplicado? {isAppliedText}</small>
                        <p>{descripcion}</p>
                    </div>
                    <button type="submit" 
                    disabled={isApplied}
                    className={`button-apply-job ${buttonClass}`}
                    onClick={handleClick}>
                        {text}
                    </button>
                </article>
            )
        }

        function App() {
            return (
                <div className="jobs-listings">
                    <JobCard 
                        titulo="Desarrollador React.js"
                        empresa="Tech Solutions"
                        ubicacion="Remoto"
                        descripcion="Únete a nuestro equipo como desarrollador React.js y trabaja en proyectos innovadores."
                        data={{modalidad: "remoto", nivel: "junior", technology: "react"}}
                        />
                    <JobCard 
                        titulo="Frontend Developer"
                        empresa="Web Creators"
                        ubicacion="Madrid, España"
                        descripcion="Buscamos un Frontend Developer con experiencia en React para crear interfaces de usuario atractivas."
                    />
                    <JobCard 
                        titulo="Ingeniero de Software"
                        empresa="Innovatech"
                        ubicacion="Barcelona, España"
                        descripcion="Forma parte de nuestro equipo de ingeniería y desarrolla aplicaciones web utilizando React.js."
                    />
                </div>
            )
        }

        const rootEl = document.querySelector("#root");
        const root = ReactDOM.createRoot(rootEl); // Aqui se cargaran los elementos de React
        root.render(<App />); // Renderizamos el componente App
    </script>
    


</head>
<body>
    <!-- Header: logo, navegación y acciones de usuario -->
    <header>
        <h1>
            <!-- Icono y marca -->
            <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="1.25"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-code"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M7 8l-4 4l4 4" /><path d="M17 8l4 4l-4 4" /><path d="M14 4l-4 16" /></svg>
            DevJobs
        </h1>

        <!-- Enlaces principales entre páginas -->
        <nav>
            <a href="index.html">Inicio</a>
            <a href="" >Empleos</a>
        </nav>

        <!-- Acciones de usuario (placeholder) -->
        <div>
            <devjobs-avatar service="x" username="midudev" size="32"></devjobs-avatar>
        </div>
    </header>
    <main>
        <!-- Sección de búsqueda: título, descripción, formulario y filtros -->
        <section class = "jobs-search">
            <h1>React.js, primeros pasos</h1>

        </section>
        <section>
            <h2>Empleos disponibles</h2>
            <div id="root"></div>
        </section>
    </main>
    <footer style="padding-bottom: 2000px;">
        <small>&copy; 2025 DevJobs. Todos los derechos reservados.</small>
    </footer>
</body>
</html>